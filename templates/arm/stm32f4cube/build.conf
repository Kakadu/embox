
TARGET = embox

PLATFORM = stm32f4

ARCH = arm

CROSS_COMPILE = arm-none-eabi-

CFLAGS += -O0 -g

ifeq ($(COMPILER),gcc)
CFLAGS += -thumb -march=armv7e-m
else
# in clang thumb is by default for armv7. Use -mno-thumb when needed.
CFLAGS += -target armv7em-unknown-none -mcpu=cortex-m4
endif

CFLAGS += -mlittle-endian -msoft-float -ffreestanding -mcpu=cortex-m4

LDFLAGS += -N -g

